require "spec_helper"

describe Integer, "generating" do

  property("min"){|n| n >= 0 }
    .check{|s| Integer.propr(min: 0) }

  property("max"){|n| n <= 0 }
    .check{|s| Integer.propr(max: 0) }

  property("min and max"){|n| n <= 10 and n >= -10 }
    .check{|s| Integer.propr(min: -10, max: 10) }

  property("min and max"){|n| n <= 10 and n >= -10 }
    .check{|s| Integer.propr(min: -10, max: 10) }

  property("min == max"){|n| Integer.propr(min: n, max: n) == n }
    .check{|s| Integer.propr }

  property("min <= max"){|a,b| fails? { Integer.propr(min: a, max: b) }}
    .check{|s| s.guard([Integer.propr, Integer.propr], &:>) }

  def self.fails?(type = Exception)
    begin
      yield
      false
    rescue => e
      e.is_a?(type)
    end
  end

end
